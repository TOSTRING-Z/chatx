<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>天气爬虫</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>今天天气</h1>
        <button id="startBtn">开始爬虫</button>
        <div id="results"></div>
    </div>

    <script>
        const { ipcRenderer } = require('electron');

        ipcRenderer.on('crawler-results', (event, results) => {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '';

            results.forEach((result, index) => {
                const resultHTML = `
                    <div class="result-item">
                        <h3>结果 ${index + 1}</h3>
                        <p>标题: ${result.title}</p>
                        <p>内容: ${result.content}</p>
                        <p>链接: <a href="${result.url}" target="_blank">${result.url}</a></p>
                        <hr>
                    </div>
                `;
                resultsDiv.innerHTML += resultHTML;
            });
        });

        ipcRenderer.on('crawler-error', (event, errorMessage) => {
            alert(`错误：${errorMessage}`);
        });

        document.getElementById('startBtn').addEventListener('click', () => {
            ipcRenderer.send('start-crawler');
        });
    </script>
</body>
</html>